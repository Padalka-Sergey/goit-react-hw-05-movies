{"version":3,"file":"static/js/997.051a262f.chunk.js","mappings":"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","sources":["pages/MoviedDetails/MovieDetails.styled.jsx","pages/MoviedDetails/MovieDetails.jsx","services/api-movie.js"],"sourcesContent":["import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const Section = styled.section`\r\n  display: flex;\r\n  padding: 0 16px 16px;\r\n  border-bottom: 1px solid black;\r\n`;\r\nSection.displayName = 'Section';\r\n\r\nexport const SectionInfo = styled.section`\r\n  padding: 0 16px 5px;\r\n  border-bottom: 1px solid black;\r\n`;\r\nSectionInfo.displayName = 'SectionInfo';\r\n\r\nexport const Img = styled.img`\r\n  max-width: 250px;\r\n  height: 375px;\r\n`;\r\nImg.displayName = 'Img';\r\n\r\nexport const ImgMiniature = styled.img`\r\n  max-width: 250px;\r\n  height: 250px;\r\n`;\r\nImgMiniature.displayName = 'ImgMiniature';\r\n\r\nexport const Box = styled.div`\r\n  margin-left: 25px;\r\n`;\r\nBox.displayName = 'Box';\r\n\r\nexport const LinkItem = styled(Link)`\r\n  display: inline-block;\r\n  padding: 0 0 16px;\r\n\r\n  text-decoration: none;\r\n  color: black;\r\n  font-weight: 500;\r\n\r\n  :hover:not(.active),\r\n  :focus-visible:not(.active) {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\nLinkItem.displayName = 'Link';\r\n","import { useState, useEffect, Suspense } from 'react';\r\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\r\nimport { getMovieDetails } from 'services/api-movie';\r\nimport {\r\n  Img,\r\n  Section,\r\n  Box,\r\n  SectionInfo,\r\n  ImgMiniature,\r\n  LinkItem,\r\n} from './MovieDetails.styled';\r\n\r\nconst MoviesDatails = () => {\r\n  const { movieId } = useParams();\r\n  const [film, setFilm] = useState(null);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    getMovieDetails(movieId).then(setFilm);\r\n  }, [movieId]);\r\n\r\n  if (!film) {\r\n    return null;\r\n  }\r\n\r\n  const {\r\n    original_title,\r\n    poster_path,\r\n    release_date,\r\n    vote_average,\r\n    overview,\r\n    genres,\r\n  } = film;\r\n  const img_path = `https://image.tmdb.org/t/p/w500${poster_path}`;\r\n  const miniature_path = `https://cdn-icons-png.flaticon.com/512/1179/1179069.png`;\r\n  const date = new Date(release_date);\r\n  const releaseDate = date.getFullYear();\r\n  const backLinkHref = location.state?.from ?? '/movies';\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <div style={{ width: '250px' }}>\r\n          <LinkItem to={backLinkHref}>&larr; Go back</LinkItem>\r\n          {poster_path && <Img src={img_path} alt={original_title} />}\r\n          {!poster_path && (\r\n            <ImgMiniature src={miniature_path} alt={original_title} />\r\n          )}\r\n        </div>\r\n\r\n        <Box>\r\n          <h1>\r\n            {original_title} ({releaseDate})\r\n          </h1>\r\n          <p>User Score: {vote_average.toFixed(1) * 10}% </p>\r\n          <h2>Overview</h2>\r\n          <p>{overview}</p>\r\n          <h3>Genres</h3>\r\n          <p>{genres.map(({ name }) => name).join(' ')}</p>\r\n        </Box>\r\n      </Section>\r\n      <SectionInfo>\r\n        <p>Additional information</p>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"cast\">Cast</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"reviews\">Reviews</Link>\r\n          </li>\r\n        </ul>\r\n      </SectionInfo>\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Outlet />\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MoviesDatails;\r\n","// /trending/get-trending - список самых популярных фильмов на сегодня для создания коллекции на главной странице.\r\n// /search/search-movies - поиск кинофильма по ключевому слову на странице фильмов.\r\n// /movies/get-movie-details - запрос полной информации о фильме для страницы кинофильма.\r\n// /movies/get-movie-credits - запрос информации о актёрском составе для страницы кинофильма.\r\n// /movies/get-movie-reviews - запрос обзоров для страницы кинофильма.\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\nconst KEY = '479d2ea313055d36744e81dfb1070205';\r\n\r\nexport function getTrendingMovies() {\r\n  return fetch(`${BASE_URL}trending/movie/week?api_key=${KEY}`).then(res =>\r\n    res.json()\r\n  );\r\n}\r\n\r\nexport function getSearchMovies(searchQuery) {\r\n  return fetch(\r\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${searchQuery}`\r\n  ).then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(\r\n      new Error(`Фильмов с названием ${searchQuery} нет :(`)\r\n    );\r\n  });\r\n}\r\n\r\nexport function getMovieDetails(muvieId) {\r\n  return fetch(`${BASE_URL}/movie/${muvieId}?api_key=${KEY}`).then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Фильма с ID ${muvieId} нет :(`));\r\n  });\r\n}\r\n\r\nexport function getMovieCast(muvieId) {\r\n  return fetch(`${BASE_URL}/movie/${muvieId}/credits?api_key=${KEY}`).then(\r\n    res => res.json()\r\n  );\r\n}\r\n\r\nexport function getMovieReviews(muvieId) {\r\n  return fetch(`${BASE_URL}/movie/${muvieId}/reviews?api_key=${KEY}`).then(\r\n    res => res.json()\r\n  );\r\n}\r\n"],"names":["Section","styled","displayName","SectionInfo","Img","ImgMiniature","Box","LinkItem","Link","movieId","useParams","useState","film","setFilm","location","useLocation","useEffect","getMovieDetails","then","original_title","poster_path","release_date","vote_average","overview","genres","img_path","releaseDate","Date","getFullYear","backLinkHref","state","from","style","width","to","src","alt","toFixed","map","name","join","Suspense","fallback","BASE_URL","KEY","getTrendingMovies","fetch","res","json","getSearchMovies","searchQuery","ok","Promise","reject","Error","muvieId","getMovieCast","getMovieReviews"],"sourceRoot":""}